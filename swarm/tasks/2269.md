# Task 2269 — תיקון עריכת הימורים + מבנה סוכנים בהימורים שלי

## בעיות

### 1. עריכת הימור לא נשמרת
כשמנהל נכנס ל"הימורים שלי", עורך הימור של שחקן אחר ולוחץ שמור — זה לא נשמר בפועל.
- צריך לבדוק את ה-API endpoint של עדכון bet
- צריך לבדוק שה-frontend שולח את הנתונים נכון
- **חובה: לבדוק בפועל שהשמירה עובדת!**

### 2. מבנה היררכי בהימורים שלי (admin view)
כשמנהל נכנס ל"הימורים שלי" — צריך להציג מבנה היררכי:
```
📋 הימורים שלי (Admin View)
│
├── 🔵 סוכן-על: דוד
│   ├── 🟢 סוכן: משה (רשם דוד)
│   │   ├── 👤 שחקן: יוסי (רשם משה)
│   │   │   └── 🎫 הימור #123 - ריאל מדריד vs ברצלונה - 50₪
│   │   │   └── 🎫 הימור #124 - ...
│   │   └── 👤 שחקן: אבי (רשם משה)
│   │       └── 🎫 הימור #456 - ...
│   └── 🟢 סוכן: שרה (רשמה דוד)
│       └── 👤 שחקן: דנה (רשמה שרה)
│           └── ...
├── 🔵 סוכן-על: רחל
│   └── ...
└── 👤 שחקנים ישירים (ללא סוכן)
    └── ...
```

### מבנה הנתונים
- User model כבר יש: `role` (admin/superagent/agent/player) + `parentId`
- צריך: GROUP BY parentId → build tree
- Admin רואה הכל
- Super Agent רואה רק את הסוכנים שלו + השחקנים שלהם
- Agent רואה רק את השחקנים שלו

## קבצים רלוונטיים
- `backend/public/index.html` — "הימורים שלי" section
- `backend/src/routes/bets.js` — API endpoints
- `backend/src/routes/admin.js` — admin routes
- `backend/src/models/User.js` — user model with role + parentId
- `backend/src/models/Bet.js` — bet model

## סנדבוקס
- Path: /root/sandbox/BettingPlatform
- URL: http://95.111.247.22:9089
- Admin: zozo / 123456
- Super Agent test: super1 / super123

## חוקים
- ⛔ סנדבוקס בלבד
- ⛔ SELF-TEST חובה — בדוק בפועל שעריכה נשמרת!
- ⛔ screenshots + אישור לפני production
