# Task 3674 — תיקון דקות משחק בליין רץ

## בעיה
בrow() (שורה ~645 ב-index.html), דקות המשחק מחושבות לפי:
```js
const el = Math.floor((Date.now() - t.getTime()) / 60000);
```
זה משתמש ב-commenceTime ומחשב elapsed time. אם commenceTime לא מדויק → הדקות שגויות.

## מה צריך
להשתמש ב-`matchMinute` ו-`matchPeriod` מה-DB (שמגיעים מBetsAPI TM/GO) כמקור ראשי.
fallback ל-elapsed calculation רק אם matchMinute לא קיים.

## שינויים נדרשים ב-index.html

### 1. ב-row() function (~line 652)
```js
// BEFORE
if(isLive&&!clocks[eid]){
  const el=Math.floor((Date.now()-t.getTime())/60000);
  const isSoccer=sk.includes('soccer');
  const min=el>0?(isSoccer?Math.min(el,95):el):0;
  initClock(eid,min);
}

// AFTER  
if(isLive&&!clocks[eid]){
  let min;
  if(e.matchMinute != null && e.matchMinute > 0) {
    min = e.matchMinute;
  } else {
    const el=Math.floor((Date.now()-t.getTime())/60000);
    const isSoccer=sk.includes('soccer');
    min=el>0?(isSoccer?Math.min(el,95):el):0;
  }
  initClock(eid,min);
}
```

### 2. ב-data refresh (כשEV מתעדכן)
וודא שכשהAPI מחזיר matchMinute חדש, הclock מתעדכן ולא נשאר על הערך הישן.

חפש `initClock` ו-`getClock` — אם clock כבר קיים ו-matchMinute חדש הגיע מהAPI, עדכן את הclock.

### 3. ב-API route (backend events.js)
וודא ש-matchMinute ו-matchPeriod מוחזרים ב-API response:
```js
// בselect/projection
matchMinute: 1, matchPeriod: 1, timer: 1
```

## Sandbox
⛔ SANDBOX: /root/sandbox/BettingPlatform
URL: http://95.111.247.22:9089
