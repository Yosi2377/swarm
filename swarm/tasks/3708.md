# Task 3708 — 6 באגים בליין רץ ZozoBet

## באג 1: הימורים על מחצית שעברה
כשמשחק במחצית 2, עדיין אפשר להמר על תוצאת מחצית 1.
**תיקון**: ב-modal (match modal), הסתר/נטרל tabs של תקופות שכבר עברו בהתאם ל-matchPeriod.

## באג 2: זמן לא נכון ב-modal
כשלוחצים על משחק בליין רץ, ה-modal מציג זמן שגוי.
**תיקון**: ב-openMatch() וב-auto-refresh, השתמש ב-matchMinute + matchPeriod מה-API (כמו שתוקן ב-row() ב-#3674).

## באג 3: Settlement לא עובד כמו שצריך
135 משחקים שהתחילו לפני 2+ שעות ועדיין לא completed. תוצאות שגויות.
**תיקון**: 
- באגרגטור: שפר את הsettlement — אם אירוע לא מופיע ב-inplay ועבר 90+ דקות → mark completed
- בדוק שה-settlement engine בbackend באמת מסמן won/lost נכון

## באג 4: משחקים שנגמרו מופיעים בליין רץ
`isLiveEv()` מחזיר true גם למשחקים שנגמרו אם יש להם scores.
**תיקון**: `isLiveEv()` צריך לבדוק גם `completed` field ו-matchPeriod (FT/AET).

## באג 5: תוספת זמן לא מוצגת
כשמשחק בדקה 90+ (תוספת), זה מראה FT במקום 90+3' למשל.
**תיקון**: ב-getPeriod() וב-clock display, אם דקה > 90 ו-matchPeriod != FT/HT → הצג "90+X'"

## באג 6: ליגות לא פופולאריות
Esoccer, Setka Cup, TT Cup, CS2, DOTA2, Czech Liga Pro, Battle, H2H GG, UTR Pro, reserves, U19 — כולם מופיעים.
**תיקון**: עדכן SPORT_BLOCK regex באגרגטור להוסיף: setka, tt_cup, tt_elite, czech.liga.pro, esoccer, e_soccer, battle, volta, h2h_gg, cs2, lol, dota, utr.pro, cyber, virtual, sim_, esport, players.championship, challenger_series_tt, modus_super_series

## חלוקת עבודה
- **קודר 1**: באגים 1,2,5 (frontend index.html) — modal + timer + extra time
- **קודר 2**: באגים 3,4 (backend/aggregator) — settlement + isLiveEv + cleanup
- **חוקר**: באג 6 (aggregator SPORT_BLOCK) — ליגות מסוננות

## Sandbox
⛔ SANDBOX: /root/sandbox/BettingPlatform
URL: http://95.111.247.22:9089
