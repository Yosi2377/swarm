# Task 2650 — דיווח אוטומטי כש-sessions_spawn חוזרים

## בעיה
sessions_spawn רץ ברקע. כשסוכן מסיים — אור לא מדווח ליוסי כי הוא לא יודע שהסוכן סיים.

## פתרון
עדכן HEARTBEAT.md — בכל heartbeat, בדוק אם יש sub-agents שסיימו ולא דווחו:

### הוסף ל-HEARTBEAT.md:
```
## Sub-Agent Check
- Run sessions_list(kinds=["subagent"], activeMinutes=30, messageLimit=1)
- For each completed sub-agent (has final message, not "running"):
  1. Check if already reported (file: swarm/memory/reported-spawns.json)
  2. If not reported:
     a. Read the final message
     b. Run evaluator if applicable
     c. Take screenshot if applicable
     d. Post summary to General via send.sh
     e. Mark as reported in reported-spawns.json
```

### צור swarm/check-spawns.sh
```bash
#!/bin/bash
# check-spawns.sh — Check for completed sub-agents and report
# Called from heartbeat or manually

# Uses: sessions_list API to find completed sub-agents
# Reports: via send.sh to General
# Tracks: swarm/memory/reported-spawns.json
```

## Tests
- bash -n /root/.openclaw/workspace/swarm/check-spawns.sh
- grep -q "spawn\|sub-agent\|subagent" /root/.openclaw/workspace/swarm/HEARTBEAT.md
